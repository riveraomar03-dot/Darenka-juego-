<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juego para Darenka ðŸ’–</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family: Arial, Helvetica, sans-serif;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4);
}
.card{
  width:min(880px,96vw);
  background: rgba(255,255,255,.97);
  border-radius:22px;
  padding:28px;
  text-align:center;
  box-shadow:0 12px 35px rgba(0,0,0,.18);
  position:relative;
  overflow:hidden;
}
h1{margin:0 0 10px;font-size:34px}
p{font-size:18px; line-height:1.4}
.small{font-size:14px; opacity:.7}

.btns{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:18px
}
button{
  border:0;
  border-radius:14px;
  padding:14px 20px;
  font-size:16px;
  font-weight:800;
  cursor:pointer;
  box-shadow:0 8px 18px rgba(0,0,0,.16);
}
.primary{background:#111;color:#fff}
.ghost{background:#fff;color:#111}

.photo{
  width:100%;
  max-height:380px;
  object-fit:cover;
  border-radius:18px;
  margin:16px 0;
  box-shadow:0 10px 25px rgba(0,0,0,.25);
}

.final{
  font-size:36px;
  margin-top:10px
}
.message{
  text-align:left;
  background:rgba(0,0,0,.05);
  padding:18px;
  border-radius:16px;
  margin-top:18px;
}
.message p{margin:10px 0}

.heart{
  position:absolute;
  bottom:-20px;
  font-size:24px;
  animation: floatUp 3.4s ease forwards;
  pointer-events:none;
}
@keyframes floatUp{
  0%{transform:translateY(0) scale(.8);opacity:0}
  15%{opacity:1}
  100%{transform:translateY(-620px) scale(1.8);opacity:0}
}
</style>
</head>

<body>

<div class="card" id="card">
  <h1 id="title">Hola Darenka ðŸ˜Š</h1>
  <p id="text">Antes de la sorpresaâ€¦ Â¿jugamos un poquito?</p>

  <div class="btns" id="btns">
    <button class="primary" id="musicBtn">Activar mÃºsica ðŸ’—</button>
    <button class="ghost" id="startBtn">Empezar ðŸŽ®</button>
  </div>

  <p class="small" id="hint">Tip: toca una vez la pantalla y luego activa la mÃºsica ðŸ’—</p>

  <audio id="bgm" src="music.mp3" loop preload="auto" playsinline></audio>
</div>

<script>
const card = document.getElementById("card");
const title = document.getElementById("title");
const text  = document.getElementById("text");
const btns  = document.getElementById("btns");
const hint  = document.getElementById("hint");
const bgm   = document.getElementById("bgm");

/* ðŸ”“ Desbloqueo de audio */
let audioUnlocked=false;
function unlockAudio(){
  if(audioUnlocked) return;
  bgm.play().then(()=>{
    bgm.pause();
    bgm.currentTime=0;
    audioUnlocked=true;
  }).catch(()=>{});
}
document.addEventListener("click", unlockAudio,{once:true});
document.addEventListener("touchstart", unlockAudio,{once:true});

/* ðŸ’– corazones */
function hearts(n=18){
  for(let i=0;i<n;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.textContent=["ðŸ’–","ðŸ’—","ðŸ’˜","ðŸ’","ðŸ’ž"][Math.floor(Math.random()*5)];
    h.style.left=(6+Math.random()*88)+"%";
    h.style.fontSize=(18+Math.random()*22)+"px";
    card.appendChild(h);
    setTimeout(()=>h.remove(),3600);
  }
}

/* ðŸŽ® Flujo del juego con FOTOS */
const steps=[
  {
    t:"Recuerdo âœ¨",
    html:`<img src="images/foto1.jpg" class="photo">
          <p>Este momento tambiÃ©n me hizo pensar en ti.</p>`,
    next:1
  },
  {
    t:"Otro recuerdo ðŸ“¸",
    html:`<img src="images/foto2.jpg" class="photo">
          <p>Me gusta cÃ³mo se siente compartir cosas contigo.</p>`,
    next:2
  },
  {
    t:"Antes del final ðŸ’ž",
    html:`<img src="images/foto3.jpg" class="photo">
          <p>Hay momentos que se quedanâ€¦ y personas tambiÃ©n.</p>`,
    next:3
  },
  {
    final:true
  }
];

function go(i){
  btns.innerHTML="";
  hint.textContent="";

  const s = steps[i];

  if(s.final){
    title.textContent="ðŸ’–";
    text.innerHTML=`
      <div class="final">Darenka, Â¿quieres ser mi novia?</div>

      <div class="message">
        <p><strong>Darenka,</strong></p>

        <p>
          no hice este juego para impresionarte,<br>
          lo hice porque contigo me nacen ganas de crear,<br>
          de cuidarte, de elegirte con calma y con intenciÃ³n.
        </p>

        <p>
          Me gusta cÃ³mo se siente hablar contigo,<br>
          cÃ³mo la mÃºsica suena distinto cuando estÃ¡s cerca,<br>
          y cÃ³mo lo simple se vuelve especial si es contigo.
        </p>

        <p>
          No prometo perfecciÃ³n,<br>
          pero sÃ­ presencia, respeto y ganas reales de construir algo bonito.
        </p>

        <p><strong>Si me dejas, quiero ser tu lugar seguro.</strong></p>
      </div>
    `;

    const yes=document.createElement("button");
    yes.className="primary";
    yes.textContent="SÃ­ ðŸ’•";
    yes.onclick=()=>hearts(30);

    btns.appendChild(yes);
    hearts(26);
    return;
  }

  title.textContent=s.t;
  text.innerHTML=s.html;

  const cont=document.createElement("button");
  cont.className="primary";
  cont.textContent="Continuar ðŸ’—";
  cont.onclick=()=>{hearts(10); go(s.next);};

  btns.appendChild(cont);
}

document.getElementById("musicBtn").onclick=async()=>{
  if(!audioUnlocked){
    alert("Toca una vez la pantalla y vuelve a presionar ðŸ’—");
    return;
  }
  bgm.currentTime=0;
  await bgm.play();
  hearts(10);
};

document.getElementById("startBtn").onclick=()=>{
  hearts(8);
  go(0);
};
</script>

</body>
</html>
